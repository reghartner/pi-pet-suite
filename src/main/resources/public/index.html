<head xmlns="http://www.w3.org/1999/html">
  <script
      src="https://code.jquery.com/jquery-3.4.1.min.js"
      integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
      crossorigin="anonymous"></script>
</head>

<div>
  <button onclick="refreshPic()" >Refresh pic</button>
  <a id="loading" ></a>
</div>
<div>
  <img id="pic" width="640" height="480"/>
</div>

<div>
  <button onclick="rewardAfter()" >Set to Reward After Minutes</button>
  <input name="rewardAfterMinutes" value="5" />
</div>

<script language="JavaScript" >
  var host = window.location;
  $("#pic").attr("src", host + "api/gifArchive/latest?" + new Date().getTime());

  refreshPic = function() {
    $("#loading").text("Refreshing Image...");
    $("#pic").attr("src", host + "api/gifArchive/latest?" + new Date().getTime());
  }

  latestImageSouorce = function() {
    return host + "api/gifArchive/latest";
  }

  pic.onload = function () {
    $("#loading").text("");
  }

  rewardAfter = function() {
    var minutes = document.getElementsByName("rewardAfterMinutes")[0].value;
     $.ajax({
      type: "POST",
      url: host + "api/reward/after/" + minutes
    });

    console.log("rewarding harley after " + minutes + " minutes.");
  }
</script>
